# 🎯 实时人脸检测系统

基于YOLO11专属模型的高性能实时人脸检测与计数系统

## ✨ 主要特性

### 🔥 核心功能
- **智能摄像头管理**: 自动检测所有可用摄像头，支持一键切换
- **实时人脸计数**: 精确统计当前画面中的人脸数量
- **高性能检测**: 使用专门训练的WIDER Face模型，检测精度更高
- **FPS监控**: 实时显示帧率性能指标
- **智能截图**: 保存带有检测结果和人脸数量的截图

### 🎨 用户界面
- **信息面板**: 半透明顶部显示所有关键信息
- **镜像模式**: 摄像头画面水平翻转，符合镜子使用习惯
- **实时统计**: 大号绿色字体显示人脸数量
- **控制提示**: 右上角显示操作按键说明

## 🚀 快速开始

### 环境要求
```bash
pip install ultralytics opencv-python numpy
```

### 启动程序
```bash
python realtime_face_detection.py
```

### 控制操作
| 按键 | 功能描述 |
|------|----------|
| **Q** | 退出程序 |
| **C** | 切换到下一个可用摄像头 |
| **S** | 保存当前画面截图 |

## 📊 界面说明

### 信息面板内容
- **标题**: "Real-time Face Detection"
- **人脸计数**: "Faces Detected: X" (绿色大字)
- **性能指标**: "FPS: XX.X" 
- **摄像头信息**: "Camera: X (Y available)"
- **操作提示**: 右侧控制说明

### 截图功能
- 自动命名: `face_detection_screenshot_YYYYMMDD_HHMMSS_faces_X.jpg`
- 包含检测框和人脸数量信息
- 保存到程序运行目录

## 🛠️ 技术特点

### 模型优势
- **专属训练**: 基于WIDER Face数据集训练
- **高精度**: mAP50达到65.3%
- **快速检测**: 优化的推理速度
- **人脸专精**: 针对人脸检测特别优化

### 程序架构
- **面向对象设计**: 清晰的类结构
- **智能资源管理**: 自动处理摄像头初始化和释放
- **异常处理**: 完善的错误处理机制
- **性能监控**: 内置FPS计算和显示

## 🔧 系统要求

### 硬件要求
- **摄像头**: 支持标准USB摄像头或内置摄像头
- **CPU**: 推荐4核以上处理器
- **内存**: 最低4GB RAM
- **显卡**: 支持CUDA的GPU(可选，提升性能)

### 软件要求
- **操作系统**: Windows 10/11, macOS, Linux
- **Python**: 3.8或更高版本
- **OpenCV**: 4.5+
- **Ultralytics**: 最新版本

## 📈 性能优化

### 提升检测速度
1. 使用GPU加速(如果可用)
2. 调整摄像头分辨率(640x480)
3. 适当调整置信度阈值(默认0.25)

### 提升检测精度
- 确保良好的光照条件
- 保持适当的人脸大小
- 避免严重遮挡或侧脸

## 🎯 使用场景

- **人数统计**: 会议室、教室人数实时统计
- **安防监控**: 入口人员检测
- **互动应用**: 基于人脸的交互系统
- **演示展示**: AI技术演示和展览

## 🔍 故障排除

### 常见问题
1. **摄像头无法打开**
   - 检查摄像头是否被其他程序占用
   - 确认摄像头驱动正常安装

2. **检测精度低**
   - 改善光照条件
   - 调整摄像头角度
   - 确保人脸清晰可见

3. **性能较慢**
   - 关闭不必要的后台程序
   - 考虑使用GPU加速
   - 降低摄像头分辨率

### 调试模式
程序启动时会显示详细的初始化信息，包括:
- 检测到的摄像头列表
- 每个摄像头的规格参数
- 模型加载状态

---

**注意**: 本程序使用的是专门为人脸检测训练的YOLO模型，在人脸检测任务上比通用模型具有更高的精度和更好的性能表现。 